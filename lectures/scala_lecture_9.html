<!doctype html>
<html lang="ru">

<head>
    <meta charset="utf-8">

    <title>Введение в функциональное программирование</title>

    <meta name="description" content="Название">
    <meta name="author" content="автор">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css" id="theme">

    <link rel="stylesheet" href="css/hljs/vs.css" id="highlight-theme">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="css/custom.css">
</head>

<body>
    <div class="reveal">
        <div class="footer">
            <span class="corp-name"><b>NAUMEN </b></span>Яценко Иван
        </div>

        <div class="slides">
            <section>
                <h1>Введение в функциональное программирование</h1>
                <div style="position: relative; right: 0;">Яценко Иван</div>
            </section>
        </div>
        <div class="slides">
            <section>
                <b>Функциональное программирование</b> - парадигама программирования, <br>
                в которой процесс вычислени трактуется,<br>
                как вычисление функции от входных параметров.
            </section>
        </div>
        <div class="slides">
            <section>
                <b>Функция в программировании</b> — фрагмент программного кода (подпрограмма), к которому можно обратиться из другого места программы.
                <br><br>
                <b>Функция в математике</b> — соответствие между элементами двух множеств, <br>
                установленное по такому правилу, что каждому элементу одного множества соответствует<br>
                один и только один элемент из другого множества.
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Основные концепции:</h1>
                <ul>
                    <li>чистота функций;</li>
                    <li>иммутабельность данных;</li>
                    <li>код - композиция функций;</li>
                    <li>функция - объект первого класса;</li>
                    <li>функции высших порядков;</li>
                    <li>сопоставление образцом.</li>
                </ul>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Чистые функции</h1>
                Функция называется <b>чистой</b>, когда она детерминированна и не несёт в себе побочных эффектов.
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Иммутабельность данных</h1>
                Данные неизменны.
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Лямбда-функции</h1>
                - выражение, которое состоит исключительно из следующих терм:
                <ul>
                    <li>переменные - включений имён "переменных" (f, x);</li>
                    <li>аппликации - применения терм друг к другу (f(x));</li>
                    <li>абстракции - реализация лямда-функций (&lambda;x.f(x)).</li>
                </ul>
                <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                    <pre style="margin: 0; line-height: 125%">
                        <span style="color: #008800; font-weight: bold">val</span> product<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">Int</span><span style="color: #333333">,</span> <span style="color: #333399; font-weight: bold">Int</span><span style="color: #333333">)</span> <span style="color: #008800; font-weight: bold">=&gt;</span> <span style="color: #BB0066; font-weight: bold">Int</span> <span style="color: #008800; font-weight: bold">=</span> tuple <span style="color: #008800; font-weight: bold">=&gt;</span> tuple<span style="color: #333333">.</span>_1 <span style="color: #333333">*</span> tuple<span style="color: #333333">.</span>_2
                        <span style="color: #008800; font-weight: bold">val</span> sqr<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Int</span> <span style="color: #333333">=&gt;</span> <span style="color: #BB0066; font-weight: bold">Int</span> <span style="color: #008800; font-weight: bold">=</span> x <span style="color: #008800; font-weight: bold">=&gt;</span> product (x, x)
                    </pre>
                </div>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Функции - объекты первого класса</h1>
                Функции ~ Данные
                <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                    <pre style="margin: 0; line-height: 125%">
                        <span style="color: #008800; font-weight: bold">val</span> stringify<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Any</span> <span style="color: #333333">=&gt;</span> <span style="color: #BB0066; font-weight: bold">String</span>
                    </pre>
                </div>

            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Функции высших порядков</h1>
                Функция высшего порядка - функция, которая принимает в качестве параметров(-а) или/и возвращает функцию.
                <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                    <pre style="margin: 0; line-height: 125%">
                        <span style="color: #008800; font-weight: bold">def</span> map<span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span>, <span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">](</span>f<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">A</span> <span style="color: #333333">=&gt;</span> B<span style="color: #333333">,</span> list<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">])</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">]</span>
                        
                        <span style="color: #008800; font-weight: bold">def</span> compose<span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span>, <span style="color: #333399; font-weight: bold">B</span>, <span style="color: #333399; font-weight: bold">C</span><span style="color: #333333">](</span>f<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">A</span> <span style="color: #333333">=&gt;</span> B<span style="color: #333333">,</span> g<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">B</span> <span style="color: #333333">=&gt;</span> C<span style="color: #333333">)</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">A</span> <span style="color: #333333">=&gt;</span> C <span style="color: #008800; font-weight: bold">=</span> <span style="color: #333333">(</span>x<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">)</span> <span style="color: #008800; font-weight: bold">=&gt;</span> g<span style="color: #333333">(</span>f<span style="color: #333333">(</span>x<span style="color: #333333">))</span>
                    </pre>
                </div>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Композиция функций</h1>
                    &forall; f: A &rightarrow; B, g: B &rightarrow; C<br>
                    &exist; c: A &rightarrow; C = g &compfn; f
                <br>
                <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                    <pre style="margin: 0; line-height: 125%">
                        <span style="color: #008800; font-weight: bold">def</span> decode<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Array</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">Byte</span><span style="color: #333333">]</span> <span style="color: #008800; font-weight: bold">=&gt;</span> <span style="color: #BB0066; font-weight: bold">String</span>
                        <span style="color: #008800; font-weight: bold">def</span> parseString<span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">T</span><span style="color: #333333">](</span>parser<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Parser</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">T</span><span style="color: #333333">])</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">String</span> <span style="color: #333333">=&gt;</span> T
                        
                        <span style="color: #008800; font-weight: bold">def</span> decodeBytes<span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">T</span><span style="color: #333333">](</span>parser<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Parse</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">T</span><span style="color: #333333">])</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Array</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">Byte</span><span style="color: #333333">]</span> <span style="color: #008800; font-weight: bold">=&gt;</span> T <span style="color: #008800; font-weight: bold">=</span> 
                        decode andThen parseString<span style="color: #333333">(</span>parser<span style="color: #333333">)</span>
                </pre>
            </div>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Каррирование</h1>
                Преобразование функции нескольких аргументов в функцию высшего порядка одного аргумента, которая возвращает функцию от следующего параметра.
                curring: ((A, B) &rightarrow; (C)) &rightarrow; (A &rightarrow; B &rightarrow; C)
                <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                    <pre style="margin: 0; line-height: 125%">
                        <span style="color: #008800; font-weight: bold">def</span> sum<span style="color: #333333">(</span>a<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Int</span><span style="color: #333333">,</span> b<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Int</span><span style="color: #333333">)</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Int</span> <span style="color: #333333">=</span> a <span style="color: #333333">+</span> b
                        <span style="color: #008800; font-weight: bold">def</span> sumCurr1<span style="color: #333333">(</span>a<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Int</span><span style="color: #333333">)(</span>b<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Int</span><span style="color: #333333">)</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Int</span> <span style="color: #333333">=</span> sum<span style="color: #333333">(</span>a<span style="color: #333333">,</span> b<span style="color: #333333">)</span>
                        <span style="color: #008800; font-weight: bold">def</span> sumCurr2<span style="color: #333333">(</span>a<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Int</span><span style="color: #333333">)</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Int</span> <span style="color: #333333">=&gt;</span> <span style="color: #BB0066; font-weight: bold">Int</span> <span style="color: #008800; font-weight: bold">=</span> sumCurr1<span style="color: #333333">(</span>a<span style="color: #333333">)(</span><span style="color: #008800; font-weight: bold">_</span><span style="color: #333333">)</span>
                    </pre>
                </div>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Рекурсивные функции</h1>
                Функция называыется <b>рекурсивной</b>, если она вызывает сама себя.
                <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                    <pre style="margin: 0; line-height: 125%">
                        <span style="color: #008800; font-weight: bold">def</span> map<span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span>, <span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">](</span>f<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">A</span> <span style="color: #333333">=&gt;</span> B<span style="color: #333333">)(</span>list<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">])</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">]</span> <span style="color: #008800; font-weight: bold">=</span> 
                        <span style="color: #008800; font-weight: bold">  if</span><span style="color: #333333">(</span>list<span style="color: #333333">.</span>nonEmpty<span style="color: #333333">)</span> f<span style="color: #333333">(</span>list<span style="color: #333333">.</span>head<span style="color: #333333">)</span> <span style="color: #333333">+:</span> map<span style="color: #333333">(</span>f<span style="color: #333333">)(</span>list<span style="color: #333333">.</span>tail<span style="color: #333333">)</span>
                        <span style="color: #008800; font-weight: bold">  else</span> <span style="color: #BB0066; font-weight: bold">Nil</span>
                    </pre>
                </div>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Хвостовая рекурсия</h1>
                <b>Хвостовая рекурсия</b> - рекурсия, в которой рекурсивный вызов является последним.
                <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                    <pre style="margin: 0; line-height: 125%">
                        <span style="color: #008800; font-weight: bold">def</span> iterativeMap<span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span>, <span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">](</span>f<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">A</span> <span style="color: #333333">=&gt;</span> B<span style="color: #333333">)(</span>list<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">])</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">]</span> <span style="color: #008800; font-weight: bold">=</span> <span style="color: #333333">{</span>
                          <span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">scala.collection.mutable</span>
                          <span style="color: #008800; font-weight: bold">val</span> buffer <span style="color: #008800; font-weight: bold">=</span> muttable<span style="color: #333333">.</span><span style="color: #BB0066; font-weight: bold">ListBuffer</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">]</span> <span style="color: #008800; font-weight: bold">=</span> muttable<span style="color: #333333">.</span><span style="color: #BB0066; font-weight: bold">ListBuffer</span><span style="color: #333333">.</span>empty
                          <span style="color: #008800; font-weight: bold">for</span><span style="color: #333333">(</span>item <span style="color: #008800; font-weight: bold">&lt;-</span> list<span style="color: #333333">)</span> <span style="color: #333333">{</span>
                            buffer <span style="color: #333333">+=</span> f<span style="color: #333333">(</span>item<span style="color: #333333">)</span>
                          <span style="color: #333333">}</span>
                          buffer
                        <span style="color: #333333">}</span>

                        <span style="color: #555555; font-weight: bold">@tailrec</span>
                        <span style="color: #008800; font-weight: bold">def</span> tailMap<span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span>, <span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">](</span>f<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">A</span> <span style="color: #333333">=&gt;</span> B<span style="color: #333333">)(</span>list<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">])</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">]</span> <span style="color: #008800; font-weight: bold">=</span> <span style="color: #333333">{</span>
                          <span style="color: #008800; font-weight: bold">def</span> loop<span style="color: #333333">(</span>l<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">],</span> buffer<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">])</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">]</span> <span style="color: #008800; font-weight: bold">=</span> <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">(</span>l<span style="color: #333333">.</span>isEmpty<span style="color: #333333">)</span> <span style="color: #333333">{</span>
                            buffer
                          <span style="color: #333333">}</span> <span style="color: #008800; font-weight: bold">else</span> <span style="color: #333333">{</span>
                            <span style="color: #008800; font-weight: bold">val</span> head <span style="color: #008800; font-weight: bold">=</span> l<span style="color: #333333">.</span>head
                            <span style="color: #008800; font-weight: bold">val</span> tail <span style="color: #008800; font-weight: bold">=</span> l<span style="color: #333333">.</span>tail
                            loop<span style="color: #333333">(</span>tail<span style="color: #333333">,</span> buffer <span style="color: #333333">:+</span> f<span style="color: #333333">(</span>head<span style="color: #333333">))</span>
                          <span style="color: #333333">}</span>
                          loop<span style="color: #333333">(</span>list<span style="color: #333333">,</span> <span style="color: #BB0066; font-weight: bold">List</span><span style="color: #333333">.</span>empty)
                        <span style="color: #333333">}</span>
                    </pre>
                </div>

            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Сопоставление с образцом<br>(Pattern matching)</h1>
                Паттерны в scala:
                    <pre>
                        Pattern         ::=  Pattern1 { ‘|’ Pattern1 }
                        Pattern1        ::=  boundvarid ‘:’ TypePat
                                        |  ‘_’ ‘:’ TypePat
                                        |  Pattern2
                        Pattern2        ::=  id [‘@’ Pattern3]
                                        |  Pattern3
                        Pattern3        ::=  SimplePattern
                                        |  SimplePattern {id [nl] SimplePattern}
                        SimplePattern   ::=  ‘_’
                                        |  varid  |  Literal  |  StableId  |  XmlPattern
                                        |  StableId ‘(’ [Patterns] ‘)’
                                        |  StableId ‘(’ [Patterns ‘,’] [id ‘@’] ‘_’ ‘*’ ‘)’
                                        |  ‘(’ [Patterns] ‘)’
                        Patterns        ::=  Pattern {‘,’ Patterns}
                </pre>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Собоставление с образцом</h1>
                <h2>Bound-pattern</h2>
                <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                    <pre style="margin: 0; line-height: 125%">
                        <span style="color: #008800; font-weight: bold">def</span> foo<span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">](</span>a<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">)</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Unit</span> <span style="color: #333333">=</span> a <span style="color: #008800; font-weight: bold">match</span> <span style="color: #333333">{</span>
                          <span style="color: #008800; font-weight: bold">case</span> x <span style="color: #008800; font-weight: bold">=&gt;</span> <span style="color: #333333">()</span> <span style="color: #888888">// x is A</span>
                        <span style="color: #333333">}</span>
                    </pre>
                </div>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Собоставление с образцом</h1>
                <h2>Type-pattern</h2>
                <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                    <pre style="margin: 0; line-height: 125%">
                        <span style="color: #008800; font-weight: bold">def</span> foo<span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">](</span>a<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">)</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Unit</span> <span style="color: #333333">=</span> a <span style="color: #008800; font-weight: bold">match</span> <span style="color: #333333">{</span>
                          <span style="color: #008800; font-weight: bold">case</span> x<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">B</span> <span style="color: #333333">=&gt;</span> <span style="color: #333333">()</span> <span style="color: #888888">// x is B if a is B</span>
                          <span style="color: #008800; font-weight: bold">case</span> <span style="color: #008800; font-weight: bold">_:</span> <span style="color: #333399; font-weight: bold">C</span> <span style="color: #333333">=&gt;</span>    <span style="color: #888888">// there are no new names but a is C</span>
                        <span style="color: #333333">}</span>
                    </pre>
                </div>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Собоставление с образцом</h1>
                <h2>Extractor-pattern</h2>
                <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                    <pre style="margin: 0; line-height: 125%">
                        <span style="color: #008800; font-weight: bold">def</span> foo<span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">](</span>a<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Option[A]</span><span style="color: #333333">)</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">A</span> <span style="color: #333333">=</span> a <span style="color: #008800; font-weight: bold">match</span> <span style="color: #333333">{</span>
                          <span style="color: #008800; font-weight: bold">case</span> Some(x)<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">B</span> <span style="color: #333333">=&gt;</span> <span style="color: #333333">x</span> <span style="color: #888888">// x is A</span>
                          <span style="color: #008800; font-weight: bold">case</span> _<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">B</span> <span style="color: #333333">=&gt;</span> <span style="color: #333333">A.default
                        <span style="color: #333333">}</span>
                    </pre>
                </div>
            </section>
        </div>
        <div class="slides">
                <section>
                    <h1>Собоставление с образцом</h1>
                    <h2>@-pattern</h2>
                    <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                        <pre style="margin: 0; line-height: 125%">
                            <span style="color: #008800; font-weight: bold">def</span> foo<span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">](</span>a<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Option[A]</span><span style="color: #333333">)</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">A</span> <span style="color: #333333">=</span> a <span style="color: #008800; font-weight: bold">match</span> <span style="color: #333333">{</span>
                              <span style="color: #008800; font-weight: bold">case</span> some@Some(x)<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">B</span> <span style="color: #333333">=&gt;</span> <span style="color: #333333">x</span> <span style="color: #888888">// x is A, box is Some[A]</span>
                              <span style="color: #008800; font-weight: bold">case</span> _<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">B</span> <span style="color: #333333">=&gt;</span> <span style="color: #333333">A.default
                            <span style="color: #333333">}</span>
                        </pre>
                    </div>
                </section>
            </div>
        <div class="slides">
            <section>
                <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                    <pre style="margin: 0; line-height: 125%">
                        <span style="color: #555555; font-weight: bold">@tailrec</span>
                        <span style="color: #008800; font-weight: bold">def</span> tailMap<span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span>, <span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">](</span>f<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">A</span> <span style="color: #333333">=&gt;</span> B<span style="color: #333333">)(</span>list<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">])</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">]</span> <span style="color: #008800; font-weight: bold">=</span> <span style="color: #333333">{</span>
                          <span style="color: #008800; font-weight: bold">def</span> loop<span style="color: #333333">(</span>l<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">A</span><span style="color: #333333">],</span> buffer<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">])</span><span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">List</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">B</span><span style="color: #333333">]</span> <span style="color: #008800; font-weight: bold">=</span> l <span style="color: #008800; font-weight: bold">match</span> <span style="color: #333333">{</span>
                            <span style="color: #008800; font-weight: bold">case</span> head <span style="color: #333333">::</span> tail <span style="color: #008800; font-weight: bold">=&gt;</span> loop<span style="color: #333333">(</span>tail<span style="color: #333333">,</span> buffer <span style="color: #333333">:+</span> f<span style="color: #333333">(</span>head<span style="color: #333333">))</span>
                            <span style="color: #008800; font-weight: bold">case</span> <span style="color: #008800; font-weight: bold">_</span>            <span style="color: #008800; font-weight: bold">=&gt;</span> buffer
                          <span style="color: #333333">}</span>
                          loop<span style="color: #333333">(</span>list<span style="color: #333333">,</span> <span style="color: #BB0066; font-weight: bold">List</span><span style="color: #333333">.</span>empty)
                        <span style="color: #333333">}</span>
                    </pre>
                </div>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Algebraic data type</h1>
                <img src="img/lecture_9/algebraic.gif"></img>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Комбинации типов:</h1>
                <ul>
                    <li>сумма (A | B);</li>
                    <li>произведение (A & B).</li>
                </ul>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Сумма:</h1>
                <b>TODO: заменить на Option</b>
                type LinkedList[T] = NonEmptyLinkedList[T] | EmptyLinkedList.type
                <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                    <pre style="margin: 0; line-height: 125%">
                        <span style="color: #008800; font-weight: bold">sealed</span> <span style="color: #008800; font-weight: bold">trait</span> <span style="color: #BB0066; font-weight: bold">LinkedList</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">+T</span><span style="color: #333333">]</span>
                            
                        <span style="color: #BB0066; font-weight: bold">final</span> <span style="color: #008800; font-weight: bold">case</span> <span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">NonEmptyLinkedList</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">+T</span><span style="color: #333333">](</span>head<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">T</span><span style="color: #333333">,</span> tail<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">LinkedList</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">T</span><span style="color: #333333">])</span>
                        <span style="color: #008800; font-weight: bold">extends</span> <span style="color: #BB0066; font-weight: bold">LinkedList</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">Nothing</span><span style="color: #333333">]</span>
                            
                        <span style="color: #008800; font-weight: bold">case</span> <span style="color: #008800; font-weight: bold">object</span> <span style="color: #BB0066; font-weight: bold">EmptyLinkedList</span> <span style="color: #008800; font-weight: bold">extends</span> <span style="color: #BB0066; font-weight: bold">LinkedList</span><span style="color: #333333">[</span><span style="color: #333399; font-weight: bold">Nothing</span><span style="color: #333333">]</span>
                    </pre>
                </div>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Произведение:</h1>
                type StandAloneApp = Host & Port<br>
                type BasicAppEnvironment = HasDatabase & StandAloneApp<br>
                BasicAppEnvironment &asymp; HasDatabase & (Host & Port)<br>
                BasicAppEnvironment &asymp; HasDatabase & Host & Port<br>
                <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
                    <pre style="margin: 0; line-height: 125%">
                        <span style="color: #008800; font-weight: bold">trait</span> <span style="color: #BB0066; font-weight: bold">HasDatabase</span> <span style="color: #333333">{</span>
                          <span style="color: #008800; font-weight: bold">def</span> database<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333399; font-weight: bold">Database</span>
                        <span style="color: #333333">}</span>
  
                        <span style="color: #008800; font-weight: bold">trait</span> <span style="color: #BB0066; font-weight: bold">StandaloneApp</span> <span style="color: #333333">{</span>
                          <span style="color: #008800; font-weight: bold">def</span> socketConfig<span style="color: #008800; font-weight: bold">:</span> <span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">Host</span><span style="color: #333333">,</span> <span style="color: #333399; font-weight: bold">Port</span><span style="color: #333333">)</span>
                        <span style="color: #333333">}</span>
  
                        <span style="color: #008800; font-weight: bold">trait</span> <span style="color: #BB0066; font-weight: bold">BasicAppEnvironment</span> <span style="color: #008800; font-weight: bold">extends</span> <span style="color: #BB0066; font-weight: bold">StandaloneApp</span> <span style="color: #008800; font-weight: bold">with</span> <span style="color: #BB0066; font-weight: bold">HasDatabase</span>
                    </pre>
                </div>
            </section>
        </div>
        <div class="slides">
            <section>
                <h1>Что мы получаем:</h1>
                <ul>
                    <li>можно (и нужно) отказаться от переменных;</li>
                    <li>можно тестировать по принципу черного ящика;</li>
                    <li>огромные возможности для распараллеливания;</li>
                    <li>схожее поведение с математичискими функциями;</li>
                    <li>оптимизация на этапе компиляции;</li>
                    <li>продолжать можно долго...</li>
                </ul>
            </section>
        </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>

        // Full list of configuration options available at:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: false,
            progress: true,
            history: true,
            center: true,
            slideNumber: true,

            transition: 'slide', // none/fade/slide/convex/concave/zoom

            // Optional reveal.js plugins
            dependencies: [
                {
                    src: 'lib/js/classList.js', condition: function () {
                        return !document.body.classList;
                    }
                },
                {
                    src: 'plugin/markdown/marked.js', condition: function () {
                        return !!document.querySelector('[data-markdown]');
                    }
                },
                {
                    src: 'plugin/markdown/markdown.js', condition: function () {
                        return !!document.querySelector('[data-markdown]');
                    }
                },
                {
                    src: 'plugin/highlight/highlight.js', async: true, condition: function () {
                        return !!document.querySelector('pre code');
                    }, callback: function () {
                        hljs.initHighlightingOnLoad();
                    }
                },
                { src: 'plugin/zoom-js/zoom.js', async: true },
                { src: 'plugin/notes/notes.js', async: true }
            ]
        });

        window.addEventListener("mousedown", handleClick, false);
        window.addEventListener("contextmenu", function (e) {
            e.preventDefault();
        }, false);

        function handleClick(e) {
            e.preventDefault();
            if (e.button === 0) Reveal.next();
            if (e.button === 2) Reveal.prev();
        }
    </script>

</body>

</html>